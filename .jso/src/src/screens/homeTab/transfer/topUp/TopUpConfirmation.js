var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),l=((function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=w(n);if(o&&o.has(t))return o.get(t);var l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=c?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(l,s,u):l[s]=t[s]}l.default=t,o&&o.set(t,l)})(r(d[3])),r(d[4])),c=r(d[5]),s=r(d[6]),u=r(d[7]),f=r(d[8]),p=r(d[9]),y=r(d[10]);function w(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(w=function(t){return t?o:n})(t)}function h(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);n&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,l)}return o}function j(t){for(var o=1;o<arguments.length;o++){var l=null!=arguments[o]?arguments[o]:{};o%2?h(Object(l),!0).forEach(function(o){(0,n.default)(t,o,l[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(l)):h(Object(l)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(l,n))})}return t}var x=function(t){var n=t.navigation,w=(0,f.useSelector)(function(t){return t.topUp}).amount,h=(0,f.useSelector)(function(t){return t.userInfo}).user;return(0,y.jsxs)(c.View,{style:{flex:1,backgroundColor:s.COLORS.white,alignItems:"center"},children:[(0,y.jsx)(u.Header,{title:(0,l.t)("paymentSummary"),leftIcon:s.icons.back_arrow,onLeftIconPress:function(){return n.navigate("Home")}}),(0,y.jsxs)(c.View,{style:O.container,children:[(0,y.jsx)(u.IconButton,{containerStyle:O.IconButtonContainer,disable:!0,icon:s.icons.transfer,iconStyle:j({},O.IconButtonIcon)}),(0,y.jsx)(c.Text,{style:O.title,children:(0,l.t)("topUpDetail")})]}),(0,y.jsxs)(c.View,{style:{justifyContent:"center",alignItems:"center",marginTop:35},children:[(0,y.jsxs)(c.View,{style:O.row,children:[(0,y.jsx)(c.Text,{style:O.rowText,children:(0,l.t)("amount")}),(0,y.jsxs)(c.Text,{style:O.rowText2,children:["\u20ac",w]})]}),(0,y.jsxs)(c.View,{style:O.row,children:[(0,y.jsx)(c.Text,{style:O.rowText,children:(0,l.t)("fee")}),(0,y.jsx)(c.Text,{style:O.rowText2,children:"\u20ac 2"})]}),(0,y.jsxs)(c.View,{style:j(j({},O.row),{},{marginTop:50}),children:[(0,y.jsx)(c.Text,{style:O.rowText,children:(0,l.t)("total")}),(0,y.jsx)(c.Text,{style:O.rowText2,children:"Card"})]}),(0,y.jsxs)(c.View,{style:O.totalContainer,children:[(0,y.jsx)(c.Text,{style:O.totalText,children:(0,l.t)("total")}),(0,y.jsxs)(c.Text,{style:O.totalAmount,children:["\u20ac ",w]})]})]}),(0,y.jsx)(c.View,{style:{justifyContent:"center",alignItems:"center",position:"absolute",bottom:70,left:0,right:0},children:(0,y.jsx)(u.CustomSwipeButton,{title:(0,l.t)("proceed"),onSwipeSuccess:function(){var t;return o.default.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(""!=(t=""!==(null==h?void 0:h.customerId)?null==h?void 0:h.customerId:"")){l.next=4;break}return l.next=4,o.default.awrap(p.cloudFunction.httpsCallable("customerObject-create_Customer")({user:h}).then(function(n){var o,l,c,s;"SUCCESS"==(null==(o=n.data)?void 0:null==(l=o.status)?void 0:l.status)&&(t=null==(c=n.data)?void 0:null==(s=c.data)?void 0:s.id),p.firestoreDb.collection("users").doc(null==h?void 0:h.uid).update({customerId:t}).catch(function(t){console.log("add friend:"+t)})}));case 4:return l.next=6,o.default.awrap(p.cloudFunction.httpsCallable("paymentObject-topUp_Ewallet")({user:h,amount:w,customerId:t}).then(function(t){var o;if(console.log(t),"SUCCESS"==(null==(o=t.data.status)?void 0:o.status)){var l,c=null==(l=t.data.data)?void 0:l.redirect_url;console.log(c),n.navigate("UrlWebview",{redirect_url:c})}}).catch(function(t){console.log(t)}));case 6:case"end":return l.stop()}},null,null,null,Promise)}})})]})};e.default=x;var O=c.StyleSheet.create({row:{flexDirection:"row",width:350,justifyContent:"space-between",paddingHorizontal:25,marginTop:25},rowText:j(j({},s.FONTS.body5),{},{color:s.COLORS.black,opacity:.4}),rowText2:j(j({},s.FONTS.body5),{},{color:s.COLORS.black}),container:j(j({marginTop:64},s.SIZES.marginHorizontal),{},{justifyContent:"center",alignItems:"center"}),IconButtonContainer:{width:60,height:60,borderRadius:22,justifyContent:"center",alignItems:"center",backgroundColor:"#B548C6"},IconButtonIcon:{tintColor:s.COLORS.white,width:22,height:22},title:j(j({marginTop:24},s.FONTS.h4),{},{fontSize:16}),totalContainer:j(j({height:76,width:315},s.SIZES.marginHorizontal),{},{backgroundColor:"#E2E2F0",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:25,borderBottomStartRadius:30,borderBottomEndRadius:30,marginTop:40}),totalText:j(j({},s.FONTS.h4),{},{fontSize:16,color:s.COLORS.darkBlue3,letterSpacing:.3}),totalAmount:j(j({},s.FONTS.h4),{},{fontSize:22,color:s.COLORS.darkBlue3,paddingTop:7})})