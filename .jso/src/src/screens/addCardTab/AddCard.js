var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),l=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=v(n);if(o&&o.has(t))return o.get(t);var u={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var s=l?Object.getOwnPropertyDescriptor(t,c):null;s&&(s.get||s.set)?Object.defineProperty(u,c,s):u[c]=t[c]}u.default=t,o&&o.set(t,u);return u})(r(d[4])),c=r(d[5]),s=r(d[6]),f=r(d[7]),p=r(d[8]),O=r(d[9]),b=r(d[10]),y=r(d[11]);function v(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(v=function(t){return t?o:n})(t)}function h(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);n&&(u=u.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,u)}return o}function j(t){for(var n=1;n<arguments.length;n++){var u=null!=arguments[n]?arguments[n]:{};n%2?h(Object(u),!0).forEach(function(n){(0,o.default)(t,n,u[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(u)):h(Object(u)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(u,n))})}return t}var w=function(t){var o=t.navigation,v=(0,l.useState)(!1),h=(0,u.default)(v,2),w=(h[0],h[1],(0,b.useSelector)(function(t){return t.userInfo}).user),P=function(){var t;return n.default.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(""!=(t=""!==(null==w?void 0:w.customerId)?null==w?void 0:w.customerId:"")){u.next=4;break}return u.next=4,n.default.awrap(O.cloudFunction.httpsCallable("customerObject-create_Customer")({user:w}).then(function(n){var o,u,l,c;console.log(n),"SUCCESS"==(null==(o=n.data)?void 0:null==(u=o.status)?void 0:u.status)&&(t=null==(l=n.data)?void 0:null==(c=l.data)?void 0:c.id)}));case 4:return u.next=6,n.default.awrap(O.cloudFunction.httpsCallable("paymentObject-addPaymentMethod")({user:w,customerId:t}).then(function(t){var n;if("SUCCESS"==(null==(n=t.data.status)?void 0:n.status)){var u,l=null==(u=t.data.data)?void 0:u.redirect_url;o.navigate("UrlWebview",{redirect_url:l})}}).catch(function(t){console.log(t)}));case 6:case"end":return u.stop()}},null,null,null,Promise)};return(0,y.jsxs)(s.View,{style:{flex:1,backgroundColor:f.COLORS.white},children:[(0,y.jsx)(p.Header,{leftIcon:f.icons.back_arrow,onLeftIconPress:function(){return o.goBack()},title:(0,c.t)("addPayment")}),(0,y.jsx)(s.View,{style:j(j({},f.SIZES.marginHorizontal),{},{alignItems:"center"}),children:(0,y.jsxs)(s.TouchableOpacity,{style:C.addCard,onPress:P,children:[(0,y.jsx)(s.Image,{source:f.icons.plus,style:C.plusImg}),(0,y.jsx)(s.Text,{style:C.addCardText,children:(0,c.t)("addCard")})]})})]})};e.default=w;var C=s.StyleSheet.create({addCard:{justifyContent:"center",alignItems:"center",marginTop:60,backgroundColor:"rgba(18, 18, 29, 0.05);",height:200,width:315,borderRadius:16,borderColor:f.COLORS.darkGray2},plusImg:{height:20,width:20,tintColor:f.COLORS.black},addCardText:j({marginTop:8},f.FONTS.h4)})