var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),l=t(r(d[3])),s=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=b(n);if(o&&o.has(t))return o.get(t);var l={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var c=s?Object.getOwnPropertyDescriptor(t,u):null;c&&(c.get||c.set)?Object.defineProperty(l,u,c):l[u]=t[u]}l.default=t,o&&o.set(t,l);return l})(r(d[4])),u=r(d[5]),c=r(d[6]),p=r(d[7]),f=t(r(d[8])),h=r(d[9]),y=r(d[10]),O=r(d[11]),w=r(d[12]);function b(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(b=function(t){return t?o:n})(t)}function S(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);n&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,l)}return o}function v(t){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{};n%2?S(Object(l),!0).forEach(function(n){(0,o.default)(t,n,l[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(l)):S(Object(l)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(l,n))})}return t}var j=function(t){var o=t.navigation,b=(0,s.useState)({email:"",firstName:"",lastName:"",username:"",password:""}),S=(0,l.default)(b,2),j=S[0],C=S[1],T=(0,s.useState)(),P=(0,l.default)(T,2),N=P[0],k=P[1],L=s.default.useState(!1),I=(0,l.default)(L,2),R=I[0],U=(I[1],s.default.useState(!1)),F=(0,l.default)(U,2),_=F[0],D=F[1];return(0,w.jsx)(f.default,{title:(0,u.t)("authLayout_Title"),subTitle:(0,u.t)("authLayout_SignUp_SubTitle"),onClosePress:function(){return o.navigate("Welcome")},childern:(0,w.jsxs)(p.View,{children:[(0,w.jsx)(p.Text,{style:x.erroMsg,children:N}),(0,w.jsx)(c.FormInput,{value:j.email,placeholder:(0,u.t)("email"),keyboradType:"email-address",autoCompleteType:"email",onChange:function(t){C(v(v({},j),{},{email:t})),k("")},prependComponenet:(0,w.jsx)(p.Image,{source:y.icons.email,style:{width:20,height:20,tintColor:y.COLORS.black2}})}),(0,w.jsx)(c.FormInput,{value:j.firstName.toLowerCase(),placeholder:(0,u.t)("firstName"),containStyle:{marginTop:y.SIZES.radius},onChange:function(t){C(v(v({},j),{},{firstName:t})),k("")},prependComponenet:(0,w.jsx)(p.Image,{source:y.icons.user,style:{width:27,height:27,tintColor:y.COLORS.black2}})}),(0,w.jsx)(c.FormInput,{value:j.lastName.toLowerCase(),placeholder:(0,u.t)("lastName"),containStyle:{marginTop:y.SIZES.radius},onChange:function(t){C(v(v({},j),{},{lastName:t})),k("")},prependComponenet:(0,w.jsx)(p.Image,{source:y.icons.user,style:{width:27,height:27,tintColor:y.COLORS.black2}})}),(0,w.jsx)(c.FormInput,{value:j.password,placeholder:(0,u.t)("password"),secureTextEntry:!R,autoCompleteType:"password",contentContainerStyle:{marginTop:y.SIZES.radius},onChange:function(t){C(v(v({},j),{},{password:t})),k("")},prependComponenet:(0,w.jsx)(p.Image,{source:y.icons.lock,style:{width:20,height:20,tintColor:y.COLORS.black2}})}),(0,w.jsx)(p.Text,{numberOfLines:1,adjustsFontSizeToFit:!0,style:x.PasswordRulesText,children:(0,u.t)("passwordRules")}),(0,w.jsxs)(p.View,{style:{flexDirection:"row",justifyContent:"flex-start",marginTop:39},children:[(0,w.jsx)(c.CheckBox,{value:_,onChange:function(t){return D(t)}}),(0,w.jsx)(p.Text,{style:x.policyText,children:(0,u.t)("policyText")})]})]}),bottomButton:(0,w.jsx)(p.View,{children:(0,w.jsx)(c.Button,{label:(0,u.t)("signUp"),labelStyle:v({},x.SignUpText),containerStyle:v(v({},x.SignUpButton),x.shadow),onPress:function(){return n.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(t="",o.prev=1,!h.utils.validateCredentials(j,k,_)){o.next=5;break}return o.next=5,n.default.awrap(O.firebaseAuth.createUserWithEmailAndPassword(j.email,j.password).then(function(n){var o;null!=n&&null!=(o=n.additionalUserInfo)&&o.isNewUser&&O.cloudFunction.httpsCallable("walletObject-create_Personal_Wallet")({user:n,signUpUserData:j}).then(function(o){var l,s,u,c,p,f;"SUCCESS"==(null==(l=o.data)?void 0:null==(s=l.status)?void 0:s.status)&&(t=null==(p=o.data)?void 0:null==(f=p.data)?void 0:f.id),O.firestoreDb.collection("users").doc(null==n?void 0:null==(u=n.user)?void 0:u.uid).set({uid:null==n?void 0:null==(c=n.user)?void 0:c.uid,email:j.email.trim(),username:j.username.trim(),firstName:j.firstName.trim(),lastName:j.lastName.trim(),phoneNumber:null,profileURL:null,ewalletId:t,customerId:"",country:"",fcmToken:[],currency:null})})}));case 5:o.next=11;break;case 7:o.prev=7,o.t0=o.catch(1),console.log(o.t0),k((0,u.t)("userExists"));case 11:case"end":return o.stop()}},null,null,[[1,7]],Promise);var t}})})})};e.default=j;var x=p.StyleSheet.create({shadow:{shadowColor:"#4d4d4d",shadowOffset:{width:0,height:8},shadowOpacity:.8,shadowRadius:13.51,elevation:5},PasswordRulesText:v({marginTop:8,color:y.COLORS.gray2},y.FONTS.body5),policyText:v({marginLeft:8},y.FONTS.body5),SignUpButton:{backgroundColor:y.COLORS.darkBlue3,width:327,height:56,borderRadius:16},SignUpText:v(v({color:y.COLORS.white},y.FONTS.h4),{},{fontSize:15}),erroMsg:v({paddingTop:20,textAlign:"center",color:y.COLORS.red},y.FONTS.body5)})