var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),l=t(r(d[3])),u=(function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=j(n);if(o&&o.has(t))return o.get(t);var l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var c=u?Object.getOwnPropertyDescriptor(t,s):null;c&&(c.get||c.set)?Object.defineProperty(l,s,c):l[s]=t[s]}l.default=t,o&&o.set(t,l);return l})(r(d[4])),s=r(d[5]),c=r(d[6]),f=r(d[7]),p=t(r(d[8])),y=r(d[9]),b=t(r(d[10])),O=r(d[11]),h=r(d[12]),S=t(r(d[13])),v=t(r(d[14])),x=r(d[15]);function j(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,o=new WeakMap;return(j=function(t){return t?o:n})(t)}function w(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);n&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,l)}return o}function T(t){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{};n%2?w(Object(l),!0).forEach(function(n){(0,o.default)(t,n,l[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(l)):w(Object(l)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(l,n))})}return t}var P=[{name:"step 1",component:function(t){var o,p=(0,u.useState)(""),y=(0,l.default)(p,2),b=y[0],S=y[1],v=(0,u.useState)(!1),j=(0,l.default)(v,2),w=j[0],P=j[1];return(0,x.jsxs)(c.View,{style:T({justifyContent:"center"},f.SIZES.marginHorizontal),children:[(0,x.jsx)(c.View,{style:C.TitleContainer,children:(0,x.jsx)(c.Text,{style:C.title,adjustsFontSizeToFit:!0,children:(0,s.t)("username")})}),(0,x.jsx)(c.View,{style:{flexDirection:"row",alignItems:"center"},children:(0,x.jsx)(O.FormInput,{value:null==(o=t.getState())?void 0:o.username,placeholder:(0,s.t)("username"),keyboradType:"default",onChange:function(n){t.saveState({username:n.trim()}),S("")},errorMsg:b})}),(0,x.jsx)(c.Text,{style:T(T({},f.FONTS.body5),{},{color:f.COLORS.gray2}),adjustsFontSizeToFit:!0,numberOfLines:2,children:(0,s.t)("usernameUnique")}),(0,x.jsx)(O.Button,{label:(0,s.t)("next"),labelStyle:T({},C.SignInText),containerStyle:T(T({},C.SignInButton),C.shadow),onPress:function(){var o,l,u;P(!0),n.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(l=null==(o=t.getState())?void 0:o.username,console.log(l),!((null==l?void 0:l.trim().length)<3||void 0==l)){c.next=6;break}return S((0,s.t)("usernameError")),P(!1),c.abrupt("return");case 6:return c.next=8,n.default.awrap(h.utils.isUsernameUsed(l));case 8:if(u=c.sent,console.log(u),0!=u){c.next=15;break}t.saveState({username:l.trim()}),t.next(),c.next=18;break;case 15:return S((0,s.t)("usernameTaken")),P(!1),c.abrupt("return");case 18:case"end":return c.stop()}},null,null,null,Promise)},disabled:w})]})}},{name:"step 2",component:function(t){var o=(0,u.useState)(""),p=(0,l.default)(o,2),y=(p[0],p[1],(0,u.useState)(!1)),b=(0,l.default)(y,2),h=b[0],j=b[1],w=(0,u.useState)(null),P=(0,l.default)(w,2),k=P[0],I=P[1],D=(0,u.useState)([]),F=(0,l.default)(D,2),B=F[0],V=F[1];(0,u.useEffect)(function(){var t=[];null==v.default||v.default.data.map(function(n){"Euro"!=n.currency_name&&"US Dollar"!=n.currency_name||t.push({label:n.name,value:n.name})}),V(t)},[]);return(0,x.jsxs)(c.View,{style:T({justifyContent:"center"},f.SIZES.marginHorizontal),children:[(0,x.jsxs)(c.View,{style:C.TitleContainer,children:[(0,x.jsx)(c.Text,{style:C.title,adjustsFontSizeToFit:!0,children:(0,s.t)("country")}),(0,x.jsx)(O.Button,{onPress:function(){return t.back()},label:(0,s.t)("back")})]}),(0,x.jsx)(c.View,{style:{flexDirection:"row",marginTop:40,alignItems:"center"},children:(0,x.jsx)(S.default,{open:h,value:k,items:B,setOpen:j,setValue:I,setItems:V,placeholder:(0,s.t)("selectCountry"),searchable:!0})}),(0,x.jsx)(c.Text,{style:T(T({},f.FONTS.body5),{},{color:f.COLORS.gray2}),adjustsFontSizeToFit:!0,numberOfLines:2,children:(0,s.t)("countryAbout")}),(0,x.jsx)(O.Button,{label:(0,s.t)("confirm"),labelStyle:T({},C.SignInText),containerStyle:T(T({},C.SignInButton),C.shadow),onPress:function(){var o,l,u;return n.default.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(null==k){s.next=9;break}return console.log(k),u=null==v.default?void 0:v.default.data.filter(function(t){return t.name==k}),console.log(u),s.next=6,n.default.awrap(t.saveState({country:null==u?void 0:null==(o=u[0])?void 0:o.iso_alpha2}));case 6:return s.next=8,n.default.awrap(t.saveState({currency:null==u?void 0:null==(l=u[0])?void 0:l.currency_code}));case 8:t.next();case 9:case"end":return s.stop()}},null,null,null,Promise)},disabled:null==k})]})}}],k=function(t){var o=t.isVisible,l=t.closeModel;return(0,x.jsxs)(p.default,{isVisible:o,useNativeDriver:!0,style:{margin:0},children:[console.log(o),(0,x.jsx)(c.View,{style:C.container,children:(0,x.jsx)(b.default,{steps:P,onFinish:function(t){return n.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:return console.log(t),o.next=3,n.default.awrap(y.firestoreDb.collection("users").doc(y.firebaseAuth.currentUser.uid).update({username:null==t?void 0:t.username,currency:null==t?void 0:t.currency,country:null==t?void 0:t.country}).then(function(t){console.log(t),l()}).catch(function(t){console.log(t)}));case 3:case"end":return o.stop()}},null,null,null,Promise)},comeInOnNext:"bounceInUp",OutOnNext:"bounceOutDown",comeInOnBack:"bounceInDown",OutOnBack:"bounceOutUp"})})]})};e.default=k;var C=c.StyleSheet.create({container:{flex:1,backgroundColor:f.COLORS.white,alignItems:"center",justifyContent:"center"},TitleContainer:{flexDirection:"row",marginTop:16,justifyContent:"space-between"},title:T(T({},f.FONTS.h5),{},{fontSize:24,paddingTop:10,color:f.COLORS.darkBlue3}),shadow:{shadowColor:"#4d4d4d",shadowOffset:{width:0,height:8},shadowOpacity:.8,shadowRadius:13.51,elevation:5},SignInButton:{backgroundColor:f.COLORS.darkBlue3,width:327,height:56,borderRadius:16,marginTop:"70%"},SignInText:T(T({color:f.COLORS.white},f.FONTS.h4),{},{fontSize:15})})